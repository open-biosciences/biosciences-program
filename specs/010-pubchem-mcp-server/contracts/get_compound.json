{
  "tool_name": "get_compound",
  "description": "Get complete compound record by PubChem CURIE. Returns full Agentic Biolink entity with SMILES, InChI, InChIKey, and cross-references. Requires resolved CURIE from search_compounds.",
  "parameters": {
    "type": "object",
    "properties": {
      "pubchem_id": {
        "type": "string",
        "description": "PubChem CURIE in format 'PubChem:CID{number}' (e.g., 'PubChem:CID2244').",
        "pattern": "^PubChem:CID\\d+$",
        "examples": ["PubChem:CID2244", "PubChem:CID3672", "PubChem:CID5090"]
      },
      "slim": {
        "type": "boolean",
        "description": "If true, return minimal fields (id, name, molecular_formula only) for token efficiency.",
        "default": false
      }
    },
    "required": ["pubchem_id"]
  },
  "returns": {
    "oneOf": [
      {
        "type": "object",
        "description": "PubChemCompound record with cross_references",
        "properties": {
          "id": {
            "type": "string",
            "pattern": "^PubChem:CID\\d+$",
            "description": "PubChem CURIE"
          },
          "name": {
            "type": ["string", "null"],
            "description": "Common compound name (Title)"
          },
          "iupac_name": {
            "type": ["string", "null"],
            "description": "IUPAC systematic name"
          },
          "molecular_formula": {
            "type": ["string", "null"],
            "description": "Molecular formula"
          },
          "molecular_weight": {
            "type": ["number", "null"],
            "description": "Molecular weight in Daltons (g/mol)"
          },
          "canonical_smiles": {
            "type": ["string", "null"],
            "description": "Canonical SMILES string"
          },
          "isomeric_smiles": {
            "type": ["string", "null"],
            "description": "Isomeric SMILES with stereochemistry"
          },
          "inchi": {
            "type": ["string", "null"],
            "description": "IUPAC International Chemical Identifier"
          },
          "inchikey": {
            "type": ["string", "null"],
            "description": "Hashed InChI key (27 characters)"
          },
          "synonyms": {
            "type": "array",
            "items": {"type": "string"},
            "description": "Alternative names and trade names"
          },
          "cross_references": {
            "type": "object",
            "description": "Cross-references to other databases (22-key registry). Keys are omitted if no mapping exists.",
            "additionalProperties": {
              "type": "array",
              "items": {"type": "string"}
            }
          }
        },
        "required": ["id"]
      },
      {
        "$ref": "#/components/schemas/ErrorEnvelope"
      }
    ]
  },
  "errors": [
    {
      "code": "UNRESOLVED_ENTITY",
      "condition": "Invalid CURIE format (missing 'PubChem:CID' prefix or non-numeric ID)",
      "recovery_hint": "Use format 'PubChem:CID{number}' (e.g., 'PubChem:CID2244'). Call search_compounds to find valid CIDs."
    },
    {
      "code": "ENTITY_NOT_FOUND",
      "condition": "Valid CURIE but compound doesn't exist in PubChem",
      "recovery_hint": "CID not found in PubChem. Verify CURIE from search_compounds results."
    },
    {
      "code": "RATE_LIMITED",
      "condition": "Rate limit exceeded (>5 req/s or >400 req/min)",
      "recovery_hint": "PubChem rate limit exceeded. Wait 60s before retrying."
    },
    {
      "code": "UPSTREAM_ERROR",
      "condition": "PubChem API error or timeout",
      "recovery_hint": "PubChem API temporarily unavailable. Retry in 60 seconds."
    }
  ],
  "examples": [
    {
      "name": "Get aspirin (full mode)",
      "request": {
        "pubchem_id": "PubChem:CID2244",
        "slim": false
      },
      "response": {
        "id": "PubChem:CID2244",
        "name": "Aspirin",
        "iupac_name": "2-acetoxybenzoic acid",
        "molecular_formula": "C9H8O4",
        "molecular_weight": 180.16,
        "canonical_smiles": "CC(=O)OC1=CC=CC=C1C(=O)O",
        "isomeric_smiles": "CC(=O)OC1=CC=CC=C1C(=O)O",
        "inchi": "InChI=1S/C9H8O4/c1-6(10)13-8-5-3-2-4-7(8)9(11)12/h2-5H,1H3,(H,11,12)",
        "inchikey": "BSYNRYMUTXBXSQ-UHFFFAOYSA-N",
        "synonyms": [
          "acetylsalicylic acid",
          "2-acetoxybenzoic acid",
          "ASA",
          "Ecotrin"
        ],
        "cross_references": {
          "pubchem_compound": ["2244"],
          "chembl": ["CHEMBL:25"],
          "drugbank": ["DB00945"]
        }
      }
    },
    {
      "name": "Get aspirin (slim mode)",
      "request": {
        "pubchem_id": "PubChem:CID2244",
        "slim": true
      },
      "response": {
        "id": "PubChem:CID2244",
        "name": "Aspirin",
        "molecular_formula": "C9H8O4"
      }
    },
    {
      "name": "Invalid CURIE format error",
      "request": {
        "pubchem_id": "CID2244"
      },
      "response": {
        "success": false,
        "error": {
          "code": "UNRESOLVED_ENTITY",
          "message": "Invalid PubChem CURIE format: 'CID2244'",
          "recovery_hint": "Use format 'PubChem:CID{number}' (e.g., 'PubChem:CID2244'). Call search_compounds to find valid CIDs.",
          "invalid_input": "CID2244"
        }
      }
    },
    {
      "name": "Entity not found error",
      "request": {
        "pubchem_id": "PubChem:CID999999999999"
      },
      "response": {
        "success": false,
        "error": {
          "code": "ENTITY_NOT_FOUND",
          "message": "PubChem compound not found: PubChem:CID999999999999",
          "recovery_hint": "CID not found in PubChem. Verify CURIE from search_compounds results.",
          "invalid_input": "PubChem:CID999999999999"
        }
      }
    }
  ],
  "cross_reference_keys": {
    "pubchem_compound": {
      "description": "Self-reference (CID as string)",
      "format": "^\\d+$",
      "example": "2244"
    },
    "chembl": {
      "description": "ChEMBL compound ID (extracted from synonyms)",
      "format": "^CHEMBL:\\d+$",
      "example": "CHEMBL:25"
    },
    "drugbank": {
      "description": "DrugBank drug ID (extracted from synonyms)",
      "format": "^DB\\d{5}$",
      "example": "DB00945"
    },
    "uniprot": {
      "description": "UniProt accession (from xrefs, rare)",
      "format": "^UniProtKB:[A-Z0-9]+$",
      "example": "UniProtKB:P23219"
    },
    "pdb": {
      "description": "PDB structure ID (from xrefs)",
      "format": "^[0-9][A-Z0-9]{3}$",
      "example": "1PTY"
    }
  },
  "rate_limits": {
    "per_second": 5,
    "per_minute": 400,
    "backoff_strategy": "exponential",
    "base_delay_seconds": 1,
    "max_delay_seconds": 60
  },
  "constitution_compliance": {
    "principle_i": "Async httpx client with connection pooling",
    "principle_ii": "Strict lookup - requires resolved CURIE",
    "principle_iii": "Uses Agentic Biolink schema with cross_references",
    "principle_iv": "Supports slim mode for token budgeting",
    "rate_limiting": "Dual rate limiting (5 req/s + 400 req/min) with exponential backoff"
  }
}
