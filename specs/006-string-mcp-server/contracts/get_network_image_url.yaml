# Tool Contract: get_network_image_url

tool_name: get_network_image_url
phase: utility
protocol: N/A (URL builder)

description: |
  Generate a STRING network visualization URL for displaying protein interaction networks.
  This is a synchronous utility function (no API call).

inputs:
  identifiers:
    type: string
    required: true
    description: |
      Gene symbol(s) or STRING ID(s), separated by newlines.
      Multiple proteins create a combined network.
    examples:
      - "TP53"
      - "TP53\\nMDM2\\nBRCA1"
      - "9606.ENSP00000269305"

  species:
    type: integer
    required: false
    default: 9606
    description: NCBI Taxonomy ID
    examples:
      - 9606  # Human
      - 10090 # Mouse

  add_nodes:
    type: integer
    required: false
    default: 10
    description: Number of additional interaction partners to include in visualization

  network_flavor:
    type: string
    required: false
    default: "confidence"
    enum: ["confidence", "evidence", "actions"]
    description: |
      Visual style for network edges:
      - confidence: Edge thickness shows interaction strength
      - evidence: Edge color shows evidence type
      - actions: Edge color shows effect type (activation/inhibition)

output:
  type: string
  format: uri
  description: URL for high-resolution PNG network visualization
  example: "https://string-db.org/api/highres_image/network?identifiers=TP53&species=9606&add_nodes=10&network_flavor=confidence"

errors: []  # No errors (synchronous URL construction)

examples:
  - name: Single protein network
    input:
      identifiers: "TP53"
      species: 9606
      add_nodes: 10
      network_flavor: "confidence"
    output: "https://string-db.org/api/highres_image/network?identifiers=TP53&species=9606&add_nodes=10&network_flavor=confidence"

  - name: Multi-protein network with evidence coloring
    input:
      identifiers: "TP53\\nMDM2\\nBRCA1"
      species: 9606
      add_nodes: 5
      network_flavor: "evidence"
    output: "https://string-db.org/api/highres_image/network?identifiers=TP53%0dMDM2%0dBRCA1&species=9606&add_nodes=5&network_flavor=evidence"

usage_notes:
  - This tool does not make API calls (synchronous URL builder)
  - Generated URLs can be opened in browser for interactive visualization
  - URL parameters are URL-encoded automatically
  - Multiple identifiers are joined with %0d (newline URL encoding)

adr_compliance:
  - N/A (utility function, not part of Fuzzy-to-Fact protocol)
