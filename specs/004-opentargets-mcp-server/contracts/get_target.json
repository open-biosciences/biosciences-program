{
  "tool_name": "get_target",
  "description": "Get complete target record by Ensembl gene ID CURIE. Returns full Agentic Biolink entity with cross-references. Requires resolved CURIE from search_targets (Fuzzy-to-Fact protocol).",
  "parameters": {
    "type": "object",
    "properties": {
      "ensembl_id": {
        "type": "string",
        "description": "Ensembl gene ID in format ENSG[11 digits] (e.g., 'ENSG00000141510' for TP53). Must be a valid human gene ID from Open Targets.",
        "pattern": "^ENSG\\d{11}$",
        "examples": ["ENSG00000141510", "ENSG00000012048", "ENSG00000146648"]
      },
      "slim": {
        "type": "boolean",
        "description": "If true, return only id/approved_symbol/approved_name/biotype (~20 tokens). Default false returns full record with cross_references (~115-300 tokens).",
        "default": false
      }
    },
    "required": ["ensembl_id"]
  },
  "returns": {
    "oneOf": [
      {
        "type": "object",
        "description": "Complete Target record (full mode)",
        "properties": {
          "id": {
            "type": "string",
            "pattern": "^ENSG\\d{11}$",
            "description": "Ensembl gene ID"
          },
          "approved_symbol": {
            "type": ["string", "null"],
            "description": "HGNC approved gene symbol"
          },
          "approved_name": {
            "type": ["string", "null"],
            "description": "HGNC approved gene name"
          },
          "biotype": {
            "type": ["string", "null"],
            "description": "Gene biotype (e.g., 'protein_coding', 'lncRNA')"
          },
          "description": {
            "type": ["string", "null"],
            "description": "Gene function description (excluded in slim mode)"
          },
          "associated_diseases_count": {
            "type": ["integer", "null"],
            "description": "Total number of associated diseases (excluded in slim mode)"
          },
          "cross_references": {
            "type": "object",
            "description": "Cross-references to other biological databases (22-key registry, excluded in slim mode)",
            "properties": {
              "hgnc": {"type": "array", "items": {"type": "string"}},
              "uniprot": {"type": "array", "items": {"type": "string"}},
              "ensembl_gene": {"type": "array", "items": {"type": "string"}},
              "entrez": {"type": "array", "items": {"type": "string"}},
              "refseq": {"type": "array", "items": {"type": "string"}},
              "chembl": {"type": "array", "items": {"type": "string"}},
              "drugbank": {"type": "array", "items": {"type": "string"}},
              "omim": {"type": "array", "items": {"type": "string"}},
              "mondo": {"type": "array", "items": {"type": "string"}},
              "efo": {"type": "array", "items": {"type": "string"}},
              "string": {"type": "array", "items": {"type": "string"}},
              "biogrid": {"type": "array", "items": {"type": "string"}},
              "kegg": {"type": "array", "items": {"type": "string"}}
            },
            "additionalProperties": false
          }
        },
        "required": ["id"]
      },
      {
        "$ref": "#/components/schemas/ErrorEnvelope"
      }
    ]
  },
  "errors": [
    {
      "code": "UNRESOLVED_ENTITY",
      "condition": "Ensembl ID format invalid (does not match ^ENSG\\d{11}$)",
      "recovery_hint": "Use format ENSG[11 digits] (e.g., ENSG00000141510 for TP53). Use search_targets to find valid IDs."
    },
    {
      "code": "ENTITY_NOT_FOUND",
      "condition": "Valid Ensembl ID format but not found in Open Targets database",
      "recovery_hint": "Ensembl ID not in Open Targets database. Verify the ID exists or use search_targets to find alternatives."
    },
    {
      "code": "UPSTREAM_ERROR",
      "condition": "Open Targets GraphQL API unavailable or returned unexpected error",
      "recovery_hint": "Open Targets API temporarily unavailable - retry in 60 seconds"
    }
  ],
  "examples": [
    {
      "name": "Full mode lookup",
      "request": {
        "ensembl_id": "ENSG00000141510",
        "slim": false
      },
      "response": {
        "id": "ENSG00000141510",
        "approved_symbol": "TP53",
        "approved_name": "tumor protein p53",
        "biotype": "protein_coding",
        "description": "Tumor suppressor gene involved in cell cycle regulation and apoptosis",
        "associated_diseases_count": 245,
        "cross_references": {
          "hgnc": ["HGNC:11998"],
          "uniprot": ["UniProtKB:P04637"],
          "ensembl_gene": ["ENSG00000141510"],
          "entrez": ["7157"],
          "omim": ["191170"],
          "chembl": ["CHEMBL:1993"]
        }
      }
    },
    {
      "name": "Slim mode lookup",
      "request": {
        "ensembl_id": "ENSG00000012048",
        "slim": true
      },
      "response": {
        "id": "ENSG00000012048",
        "approved_symbol": "BRCA1",
        "approved_name": "BRCA1 DNA repair associated",
        "biotype": "protein_coding"
      }
    },
    {
      "name": "Invalid ID format",
      "request": {
        "ensembl_id": "TP53"
      },
      "response": {
        "success": false,
        "error": {
          "code": "UNRESOLVED_ENTITY",
          "message": "Invalid Ensembl gene ID format",
          "recovery_hint": "Use format ENSG[11 digits] (e.g., ENSG00000141510 for TP53). Use search_targets to find valid IDs.",
          "invalid_input": "TP53"
        }
      }
    }
  ],
  "constitution_compliance": {
    "principle_ii": "Strict lookup - requires resolved CURIE from fuzzy search",
    "principle_iii": "Returns Target with cross_references (omit-if-null pattern)",
    "principle_iv": "Supports slim mode for token budgeting (~20 vs ~115-300 tokens)"
  }
}
